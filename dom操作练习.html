<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
		<style>
		form{
			display: flex;
			flex-direction: column;
			width: 20rem;
			border:1px solid black;
			padding: 1rem;
			margin:1rem;
		}
		form button{
			margin-top: 0.5rem;
		}
		</style>
		<script type="text/javascript">
			window.onload = function (){
				var submitInfo = document.getElementById("submitInfo");
				var allA = document.getElementsByTagName("a");
				
				
				submitInfo.onclick = function(){
					var subName = document.getElementById("subName").value;
					var subEmail = document.getElementById("subEmail").value;
					var subSalary = document.getElementById("subSalary").value;
					// alert(subName.value);
					//创建元素节点
					var tr = document.createElement("tr");
					var nameTd = document.createElement("td");
					var emailTd = document.createElement("td");
					var salaryTd = document.createElement("td");
					var aTd = document.createElement("td");
					var a = document.createElement("a");
					//创建文本节点
					var nameText = document.createTextNode(subName);
					var emailText = document.createTextNode(subEmail);
					var salaryText = document.createTextNode(subSalary);
					var delText = document.createTextNode("Delete");
					
					nameTd.appendChild(nameText);
					emailTd.appendChild(emailText);
					salaryTd.appendChild(salaryText);
					a.appendChild(delText);
					aTd.appendChild(a);
					tr.appendChild(nameTd);
					tr.appendChild(emailTd);
					tr.appendChild(salaryTd);
					tr.appendChild(aTd);
					a.href = "javascript:;"
					a.onclick = function(){
						console.log(this.parentNode.parentNode);
						var name = this.parentNode.parentNode.getElementsByTagName("td")[0].innerHTML;
						var flag = confirm("确认删除" + name + "吗？");
						if(flag){
							this.parentElement.parentElement.parentElement.removeChild(this.parentElement.parentElement);
						}
						return false
					}
					var tableForm = document.getElementById("tableForm");
					var tbody = tableForm.getElementsByTagName("tbody")[0];
					tbody.appendChild(tr);
				}
				
				for(var i=0;i<allA.length;i++){
					allA[i].onclick = function(){
						console.log(this.parentNode.parentNode);
						var name = this.parentNode.parentNode.getElementsByTagName("td")[0].innerHTML;
						var flag = confirm("确认删除" + name + "吗？");
						if(flag){
							this.parentElement.parentElement.parentElement.removeChild(this.parentElement.parentElement);
						}
						return false
					}
				}
			}
		</script>
	</head>
	<body>
		<table border="1" cellspacing="0" cellpadding="0" id="tableForm">
			<tr>
				<th>Name</th>
				<th>Email</th>
				<th>Salary</th>
				<th>&nbsp;</th>
			</tr>
			<tr>
				<td>xuguodong1</td>
				<td>2995895090@qq.com</td>
				<td>5000</td>
				<td><a href="">Delete</a></td>
			</tr>
			<tr>
				<td>xuguodong2</td>
				<td>2995895090@qq.com</td>
				<td>5000</td>
				<td><a href="">Delete</a></td>
			</tr>
			<tr>
				<td>xuguodong3</td>
				<td>2995895090@qq.com</td>
				<td>5000</td>
				<td><a href="">Delete</a></td>
			</tr>
		</table>
		<form action="#">
			<tr>
				<th>Name</th>
				<td>
					<input type="text" id="subName">
				</td>
			</tr>
			<tr>
				<th>Email</th>
				<td>
					<input type="text" id="subEmail">
				</td>
			</tr>
			<tr>
				<th>Salary</th>
				<td>
					<input type="text" id="subSalary">
				</td>
			</tr>
			<tr>
				<button type="submit" value="submit" id="submitInfo">提交</button>
			</tr>
		</form>
	</body>
</html>
